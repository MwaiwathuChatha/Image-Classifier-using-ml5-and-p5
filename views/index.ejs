<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Classification</title>
    <link rel="icon" type="image/x-icon" href="/faviconn.png"> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.min.js" integrity="sha512-eu9vkh+EbAsW3fMmPTj/DP5W3UegIdu0Z/OABMocvoofx43MYBkcQ9hRIVxZndV1vcCYQwBg+U1PkWl04TD0Jg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.2/p5.js" integrity="sha512-sqlXizekF8xHbJBFNuI8bFpUAVTs462EfyLgtRXrkdAsVB/xxJ0vcOMXHixzkqfPQolKxVRtvOfaU0g0a6Tpxw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://unpkg.com/ml5@latest/dist/ml5.min.js"></script>  
    
    
</head>
<body  style="background-color:rgb(236, 181, 171); text-align: center; color: white; font-weight: bold;">
    <div class="topnav" style="background-color: #6691b9; overflow: hidden; width: auto; padding: 10px; margin: 17px;">
        <ul style="color: white; font-size:larger; list-style: none;text-align: center;">
            <li><span>&nbsp Image Classification Machine Learning Model</span> </li>
        </ul>
      </div> 
        <div style="margin: 2.5%; background-color:#6691b9;width: 30%; margin: auto;padding: 2.5%;">
        <h1>Upload Page</h1>
        <form method="POST" action="/" enctype="multipart/form-data">
            <input type="file" name="image" accept="image/*">
            <button type="submit">Upload</button>
        </form>
    </div>
    <div style="padding: 1.5%;">


    </div>
    <script>
        let mobilenet;
let picture;

function setup(){
    createCanvas(600,350);
    picture=createImg('',imageReady=()=>{
        image(picture,0,0,width,height);
    });
    picture.hide();
    background(0);
    mobilenet=ml5.imageClassifier('MobileNet',modelReady=()=>{
    console.log('Model is ready') })
    
   /* createCanvas(600,350);
    picture=createImg('BrainAi.jpg', imageReady=()=>{
        image(picture,0,0,width,height);
    });
    picture.hide();
    background(0);
 
    mobilenet=ml5.imageClassifier('MobileNet',modelReady=()=>{
      console.log('Model is ready!');
      mobilenet.predict(picture,gotResult=(error, results)=>{
        if (error){
            console.error(error);
        }
        else{
            console.log(results);
            let label=results[0].label;
            let prob=results[0].confidence*100;
            let probTrunc=prob.toFixed(3);
            fill(0);
            textSize(90);
            text(label,40,70);
            createP('This has been identified as a '+label);
            createP('Confidence: '+probTrunc+'%');
        }

      })  
    });*/
}
    </script>  
</body>
</html>